{% extends "base.html" %}

{% block title %}Payments - {{ date.strftime('%d-%m-%Y') }}{% endblock %}

{% block content %}

<div class="container mt-4">

    <!-- Page Header -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="{{ url_for('payments.list_payments') }}" class="btn btn-secondary">
            â¬… Back to Dates
        </a>

        <h3 class="fw-bold text-primary">
            Date: {{ date.strftime('%d-%m-%Y') }}
        </h3>
    </div>

    <!-- ===================== ALL PAYMENTS ===================== -->
    <h4 class="fw-bold text-success mb-3">All Payments</h4>

    <div class="table-responsive">
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
                <tr class="text-center">
                    <th>S. No</th>
                    <th>Name in Bank</th>

                    <th>Account Name</th>
                    <th>IFSC Code</th>
                    <th>Account No</th>
                    <th>Amount</th>
                    <th>Account Type</th>
                </tr>
            </thead>

            <tbody>
                {% if all_payments|length == 0 %}
                <tr>
                    <td colspan="6" class="text-center text-muted py-3">
                        No payments found for this date.
                    </td>
                </tr>
                {% else %}
                {% for p in all_payments %}
                <tr>
                    <td class="text-center">{{ loop.index }}</td>

                    <!-- Show '-' instead of None -->
                     <td>{{ p.name_in_bank }}</td>

                    <td>{{ p.account_name or '-' }}</td>
                    <td>{{ p.ifsc_code or '-' }}</td>
                    <td>{{ p.account_no or '-' }}</td>

                    <!-- Amount -->
                    <td class="text-end fw-bold text-danger">{{ "%.2f"|format(p.amount) }}</td>

                    <td class="text-center">{{ p.account_type or '-' }}</td>
                </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div>

</div>

{% endblock %}
